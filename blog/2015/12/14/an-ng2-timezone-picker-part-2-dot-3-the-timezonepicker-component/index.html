
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>An Ng2 Timezone Picker - Part 2.3: The TimeZonePicker Component - The Blog of Tyler Russell</title>
  <meta name="author" content="Tyler Russell">

  
  <meta name="description" content="Now that we have our basic project scaffolding in place, it&rsquo;s time for us to get started writing our components. So let&rsquo;s open up our &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://terussell85.github.io/blog/2015/12/14/an-ng2-timezone-picker-part-2-dot-3-the-timezonepicker-component">
  <link href="/favicon.ico" rel="icon">
  
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="/javascripts/ender.js"></script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <link href="/atom.xml" rel="alternate" title="The Blog of Tyler Russell" type="application/atom+xml">
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-46719174-1']);
    _gaq.push(['_setDomainName','github.io']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body   class="no-sidebar"  >
  <header role="banner"><hgroup>
  
  <h2><a href="/">TR</a></h2>
  
  <h1>The Blog of Tyler Russell</h1>
</hgroup>

</header>
  <nav role="navigation">
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:terussell85.github.io" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
  
  <li><a href="https://github.com/terussell85" target="_blank">Code</a></li>
  
  
  <li><a href="https://twitter.com/te_russ">Follow Me</a></li>
  
  <li><a href="/about">About</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div>
<article class="hentry" role="article">
  
  <header>
    
      <h1 class="entry-title">An Ng2 Timezone Picker - Part 2.3: The TimeZonePicker Component</h1>
    
    
      <p class="meta">
        








  


<time datetime="2015-12-14T22:11:04-07:00" pubdate data-updated="true">Dec 14<span>th</span>, 2015</time>
        
      </p>
    
  </header>


<div class="entry-content"><p>Now that we have our basic project scaffolding in place, it&rsquo;s time for us to get started writing our components.</p>

<p>So let&rsquo;s open up our root component, the TimeZonePicker component (located in the timezonepicker.ts file).  So the first thing to remember is that with Angular2, we are writing TypeScript.  Lucky for us, the basics of TypeScript look pretty similiar to ES6 (or ES2015, or whatever it&rsquo;s called now).  So let&rsquo;s start off by defining a class.</p>

<!--more-->




<figure class='code'><figcaption><span>timezonepicker.ts</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='javascript'><span class='line'><span class="kr">export</span> <span class="kr">class</span> <span class="nx">TimeZonePicker</span> <span class="p">{}</span>
</span></code></pre></td></tr></table></div></figure>


<p>Boom!  Done!  We&rsquo;ve got our TimeZonePicker class defined and exported.  Webpack refreshes our browser for us and&hellip;  yep we&rsquo;re good.  Alright, now let&rsquo;s make this a component.</p>

<p>First, we&rsquo;ll import the necessary Angular2 dependencies from the angular2 library.  Then, we&rsquo;ll use annotations to mark the class as an Angular2 component.</p>

<p>What are annotations, you ask?  I&rsquo;m glad you brought that up.  I tend to use the term &ldquo;annotations&rdquo; instead of &ldquo;decorators&rdquo; because of my background with other languages (Java specifically).  However, in many other languages, (including JavaScript) &ldquo;decorators&rdquo; is the correct term.  Either way, think of annotations/decorators as a way of specifying metadata about your code that can be used at compile or run time to modify behavior.  If you are interested in learning more, you can read the <a href="https://github.com/wycats/javascript-decorators">ES7 proposal for decorators</a>.</p>

<blockquote><p>Author Note:
As far as I can tell Typescript technically implements the ES7 decorator spec, so &ldquo;decorator&rdquo; is the right term in the context of JavaScript.  But old habits die hard.  So if you see me reference then as annotations, just smirk and move on.  In reality, there are a couple of <a href="http://blog.thoughtram.io/angular/2015/05/03/the-difference-between-annotations-and-decorators.html">differences between the two</a>, but for our purposes here, we don&rsquo;t really care.</p></blockquote>

<p>So let&rsquo;s add to our code!</p>

<figure class='code'><figcaption><span>timezonepicker.ts</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
</pre></td><td class='code'><pre><code class='javascript'><span class='line'><span class="kr">import</span> <span class="p">{</span><span class="nx">Component</span><span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;angular2/angular2&#39;</span><span class="p">;</span>
</span><span class='line'>
</span><span class='line'><span class="err">@</span><span class="nx">Component</span><span class="p">({</span>
</span><span class='line'>    <span class="nx">selector</span><span class="o">:</span> <span class="s2">&quot;timezone-picker&quot;</span><span class="p">,</span>
</span><span class='line'>    <span class="nx">template</span> <span class="o">:</span> <span class="err">`</span>
</span><span class='line'>        <span class="o">&lt;</span><span class="nx">div</span> <span class="kr">class</span><span class="o">=</span><span class="s2">&quot;picker&quot;</span><span class="o">&gt;</span>
</span><span class='line'>            <span class="nx">This</span> <span class="nx">is</span> <span class="nx">our</span> <span class="nx">picker</span><span class="o">!</span>
</span><span class='line'>            <span class="o">&lt;</span><span class="nx">timezone</span><span class="o">-</span><span class="nx">map</span> <span class="p">(</span><span class="nx">change</span><span class="p">)</span><span class="o">=</span><span class="s2">&quot;onChange($event)&quot;</span> <span class="p">[</span><span class="nx">tz</span><span class="o">-</span><span class="nx">id</span><span class="p">]</span><span class="o">=</span><span class="s2">&quot;tzId&quot;</span><span class="o">&gt;&lt;</span><span class="err">/timezone-map&gt;</span>
</span><span class='line'>        <span class="o">&lt;</span><span class="err">/div&gt;</span>
</span><span class='line'>    <span class="err">`</span>
</span><span class='line'><span class="p">})</span>
</span><span class='line'><span class="kr">export</span> <span class="kr">class</span> <span class="nx">TimeZonePicker</span> <span class="p">{}</span>
</span></code></pre></td></tr></table></div></figure>


<p>Alright, now we getting into the fun stuff.  So let&rsquo;s take a quick look at that code.  A couple of important explanations:</p>

<ol>
<li>We import the Component decorator on line 1.  As we expand our component definition, we&rsquo;ll import more things from angular2</li>
<li>Line 3 has our <code>@Component</code> annotation</li>
<li>Line 4 specifies the selector for our component.  Most CSS2 selectors are supported here (excluding psuedo-selectors)</li>
<li>Line 5 begins our template definition.  Just like AngularJS, we can define the template inline, or provide a templateUrl.  With TypeScript though, we getting the added benefit of using  <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/template_strings">ES6 template strings</a>.  A major improvement over concatenated strings!</li>
<li>Line 8 references our TimeZoneMap component, which doesn&rsquo;t exist yet.  That&rsquo;s fine.  The component just won&rsquo;t evaluate until it does.  Note that anything surrounded with <code>()</code> is considered an &ldquo;output&rdquo; of that component, and anything surrounded with <code>[]</code> is an input.  We&rsquo;ll see this again soon.</li>
</ol>


<p>To test our new component, let&rsquo;s make sure that it is rendered when we run our app.  Open up <code>app.ts</code> and let&rsquo;s modify a few things.</p>

<figure class='code'><figcaption><span>app.ts</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
</pre></td><td class='code'><pre><code class='javascript'><span class='line'><span class="kr">import</span> <span class="p">{</span><span class="nx">Component</span><span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;angular2/angular2&#39;</span><span class="p">;</span>
</span><span class='line'><span class="kr">import</span> <span class="p">{</span><span class="nx">TimeZonePicker</span><span class="p">}</span> <span class="nx">from</span> <span class="s2">&quot;./timezonepicker/timezonepicker&quot;</span><span class="p">;</span>
</span><span class='line'>
</span><span class='line'><span class="err">@</span><span class="nx">Component</span><span class="p">({</span>
</span><span class='line'>  <span class="nx">selector</span><span class="o">:</span> <span class="s1">&#39;app&#39;</span><span class="p">,</span>
</span><span class='line'>  <span class="nx">template</span><span class="o">:</span> <span class="err">`</span>
</span><span class='line'>      <span class="o">&lt;</span><span class="nx">div</span><span class="o">&gt;</span><span class="nx">Hello</span> <span class="nx">Angular2</span><span class="o">!&lt;</span><span class="err">/div&gt;</span>
</span><span class='line'>      <span class="o">&lt;</span><span class="nx">timezone</span><span class="o">-</span><span class="nx">picker</span><span class="o">&gt;&lt;</span><span class="err">/timezone-picker&gt;</span>
</span><span class='line'>  <span class="err">`</span><span class="p">,</span>
</span><span class='line'>  <span class="nx">directives</span><span class="o">:</span> <span class="p">[</span><span class="nx">TimeZonePicker</span><span class="p">]</span>
</span><span class='line'><span class="p">})</span>
</span><span class='line'><span class="kr">export</span> <span class="kr">class</span> <span class="nx">App</span> <span class="p">{}</span>
</span></code></pre></td></tr></table></div></figure>


<p>Alright, let&rsquo;s talk about our changes.</p>

<ol>
<li>On line 2, we added a second import statement that imports our TimeZonePicker</li>
<li>On line 8, we modified the template to include an element that matches the TimeZonePicker selector</li>
<li>On line 10, we added a <code>directives</code> property to our <code>@Component</code> defintion.  Unlike AngularJS, Angular2 will not automatically evaluate all components/directives.  By explicitly listing what directives are used, Angular2 gets a major perf boost, since it doesn&rsquo;t have to check for all of them.</li>
</ol>


<p>And that&rsquo;s it for our code changes to <code>app.ts</code>!</p>

<p>While we have <code>app.ts</code> open though, let&rsquo;s do a fun experiment.  If you are using an IDE with built-in TypeScript/ES2015 support, try deleting line 2 and see what happens.  Here&rsquo;s what happens for me:</p>

<div style="text-align:center; margin-bottom:20px;">
    <img src="/images/timezone2-3/autocomplete.png">
</div>


<p>Wait.. is that&hellip; autocompletion of imports?!?  Having written ES5 for so long, I forgot what helpful front end autocomplete was.  Yes, I realize autocomplete exists for ES5.  And no, it&rsquo;s not normally very helpful.  Coding in TypeScript/ES2015, however, feels great.  Okay, end of tangent.</p>

<p>Let&rsquo;s fire up our app and see if everything worked.</p>

<div style="text-align:center; margin-bottom:20px;">
    <img src="/images/timezone2-3/result.png">
</div>


<p>And that looks pretty good!  We see our &ldquo;This is our picker!&rdquo; text, and the DOM shows that our template has been rendered correctly.  We&rsquo;ve built the first component of our picker!  Success!</p>

<p>In our next post, we&rsquo;ll give the TimeZoneMap component and TimeZone directive the same treatment as our TimeZonePicker.</p>
</div>


  <footer>
    <p class="meta">
      
  

<span class="byline author vcard">Posted by <span class="fn"><a href="/about" title="About the author (Tyler Russell)" rel="author">Tyler Russell</a></span></span>

      








  


<time datetime="2015-12-14T22:11:04-07:00" pubdate data-updated="true">Dec 14<span>th</span>, 2015</time>
      

<span class="categories">
  
    <a class='category' href='/blog/categories/angular2/'>angular2</a>, <a class='category' href='/blog/categories/timezonepicker/'>timezonepicker</a>
  
</span>


    </p>
    
      <div class="sharing">
  
  <a href="http://twitter.com/share" class="twitter-share-button" data-url="http://terussell85.github.io/blog/2015/12/14/an-ng2-timezone-picker-part-2-dot-3-the-timezonepicker-component/" data-via="te_russ" data-counturl="http://terussell85.github.io/blog/2015/12/14/an-ng2-timezone-picker-part-2-dot-3-the-timezonepicker-component/" >Tweet</a>
  
  
  <div class="g-plusone" data-size="medium"></div>
  
  
    <div class="fb-like" data-send="true" data-width="450" data-show-faces="false"></div>
  
</div>

    
    <p class="meta">
      
        <a class="basic-alignment left" href="/blog/2015/12/14/an-ng2-timezone-picker-part-2-dot-2-scaffolding/" title="Previous Post: An Ng2 Timezone Picker - Part 2.2: Scaffolding">&laquo; An Ng2 Timezone Picker - Part 2.2: Scaffolding</a>
      
      
    </p>
  </footer>
</article>

  <section>
    <h1>Comments</h1>
    <div id="disqus_thread" aria-live="polite"><noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>
  </section>

</div>


    </div>
  </div>
  <footer role="contentinfo"><ul>
  <li></li>
  
  <li>
    <a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a>
  </li>
  

  
  <li>
    <a href="https://plus.google.com/+TylerRussell85">Plus</a>
  </li>
  

  
  <li>
    <a href="https://twitter.com/te_russ">Twitter</a>
  </li>
  

  
  <li>
    <a href="https://github.com/terussell85">GitHub</a>
  </li>
  

  <li>
    Copyright &copy; 2015 - Tyler Russell -
    <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
  </li>
</ul>
</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'theblogoftylerrussell';
      
        
        // var disqus_developer = 1;
        var disqus_identifier = 'http://terussell85.github.io/blog/2015/12/14/an-ng2-timezone-picker-part-2-dot-3-the-timezonepicker-component/';
        var disqus_url = 'http://terussell85.github.io/blog/2015/12/14/an-ng2-timezone-picker-part-2-dot-3-the-timezonepicker-component/';
        var disqus_script = 'embed.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>



<div id="fb-root"></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) {return;}
  js = d.createElement(s); js.id = id;
  js.src = "//connect.facebook.net/en_US/all.js#appId=212934732101925&xfbml=1";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>



  <script type="text/javascript">
    (function() {
      var script = document.createElement('script'); script.type = 'text/javascript'; script.async = true;
      script.src = 'https://apis.google.com/js/plusone.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(script, s);
    })();
  </script>



  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
